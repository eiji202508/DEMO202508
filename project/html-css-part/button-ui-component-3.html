<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>HTMLCSSJavaScriptテンプレ/WEB制作ネタ帳</title>
<meta name="robots" content="noindex">
<link rel="icon" href="../../tiger-favicon.png" type="image/png">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Kiwi+Maru&family=Noto+Sans+JP:wght@100..900&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="../../css/style-set.css">
<link rel="stylesheet" href="../../css/style-width-height.css">
<link rel="stylesheet" href="../../css/style-margin.css">
<link rel="stylesheet" href="../../css/style-padding.css">
<link rel="stylesheet" href="../../css/style.css">
<script src="../../js/jquery-3.5.1.min.js"></script>
</head>

<body class="html-css-part ">

<header class="header">
  <div class="header-container w-container">
    <div class="h1-today-container">
      <h1>
        <a href="">
          <span class="ja">WEB制作ノート</span>
          <span class="en">Web Production Notebook</span>
        </a>
      </h1>
      
      <div id="header-today"></div>
    </div><!-- /h1-today-container -->

    <nav class="nav nav-container">
      <ul id="menu1" class="disc"><a>動く UI レシピ</a>
        <li><a href="" target="_blank" rel="noopener noreferrer"></a></li>
      </ul>
      <ul id="menu2" class="hyphen"><a>HTML/CSS/JavaScript</a>
        <li><a href="project/html-css-part/clamp-function.html" target="_blank" rel="noopener noreferrer">clump 関数 - レスポンシブフォントサイズジェネ</a></li>
        <li><a href="project/html-css-part/filter-generator.html" target="_blank" rel="noopener noreferrer">filter ジェーネレーター</a></li>
        <li><a href="project/html-css-part/filter-generator-source.html" target="_blank" rel="noopener noreferrer">filter ジェーネレーター ソース</a></li>
        <li><a href="project/html-css-part/button-ui-component-1.html" target="_blank" rel="noopener noreferrer">UI ボタンコンポ１ - 各種トグル 選択ボタン</a></li>
        <li><a href="project/html-css-part/button-ui-component-2.html" target="_blank" rel="noopener noreferrer">UI ボタンコンポ２ - 各種イベントボタン</a></li>
        <li><a target="_blank" rel="noopener noreferrer">UI ボタンコンポ３ – ファイル読込ボタン</a></li>
        <!--
        <li><a href="project/html-css-part/" target="_blank" rel="noopener noreferrer"></a></li>
        -->
      </ul>
      <ul id="menu3" class="hyphen"><a>WordPress/PHP</a>
        <li><a href="" target="_blank" rel="noopener noreferrer"></a></li>
      </ul>
    </nav>
  </div><!-- /header-container -->
</header>

<main class="w-container">
  <section class="content">

<h1 class="h1">UI ボタンコンポーネント３ – ファイル読込ボタン</h1>

<div class="flex-wrap gap-0_3 mb-0_9">

<div class="mint-container mint-container1">
<div class="title"><i class="fas fa-seedling seedling-s"></i>ファイル読込ボタン  - <span class="fs-sss">コード整形機能</span></div>
<div class="mint-box">
  <input type="file" id="fileInput" accept=".txt,.js,.json">
  <pre id="fileContent"></pre>
</div><!-- /mint-box -->

<style>
.mint-box {padding: 0.1em 1.1em;}
#fileContent {
  margin: 0.5em 0 0.7em;
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
  font-size: 0.7rem;
  line-height: 1.7;
  background: #fff;
  white-space: pre-wrap;
}
</style>

<script>
document.getElementById('fileInput').addEventListener('change', function(event) {
  const file = event.target.files[0];
  if (file) {
    const reader = new FileReader();
    reader.onload = function(e) {
      let fileContentText = e.target.result;

      // タブ文字を半角スペース2つに置換
      fileContentText = fileContentText.replace(/\t/g, '  ');
      // 半角スペース4つ(一般的なエディタのデフォルトインデント)を半角スペース2つに置換 
      fileContentText = fileContentText.replace(/ {4}/g, '  ');
      // 全角スペース（　）を半角スペース（ ）に置換
      // fileContentText = fileContentText.replace(/　/g, ' ');
      
      document.getElementById('fileContent').textContent = fileContentText;
      console.log('ファイルが読み込まれました:', file.name);
    };
    reader.readAsText(file); // テキストファイルとして読み込む
  }
});
</script>
</div><!-- /mint-container5 -->
</div><!-- / flex-wrap -->

<!--
<div class="flex-wrap flex-direction-column align-items-flex-start gap-0_5 mb-1_2">
<div class="ybox ybox-en border bg-eee">
<span class="fw-700"></span>;<br>
<span class="fs-ss"></span>　<span class="fs-3s">※ </span>
</div>

<div class="ybox ybox-en border bg-eee">
<span class="fs-s lh-2"><i class="fa fa-bolt"></i></span><br>
<span class="fw-700"></span>;<br>
<span class="fs-sss">※ </span>
</div>
</div><!-- /flex -->

<style>
/* 構造部 */
.mint-container {

.title {
  min-width: 10em;
  line-height: 2.7;
  font-size: var(--fs-ss);
  text-align: center;
  border: solid 0.9px #ddd;
  border-top-width: 1px;
  background: snow;
}
.btns-container {
  display: flex;
  justify-content: space-around;
}

/* ボタン共用 */
button {
  padding: 0 0.3em;
  color: #666;
  background-color: rgb(239, 239, 239);
  cursor: pointer;
  border: solid 1px #aaa;
  border-radius: 2px;
  font-size: var(--fs-sss);
  height: 1.85em;
  white-space: nowrap;
  padding: 0 0.3em;
}
button:hover,
input[type="file"]::-webkit-file-upload-button:hover {
  color: #fff;
  background-color: #aaa;
}

} /* /mint-container */
</style>

<!-- コードボックス -->
<div class="code-box-wrap">
<div class="code-box btn-code-box top-narrow matrix">
<button type="button" class="darkBtn">dark</button>
<!-- HTML 始め -->
<div class="tag tag-top html"></div>
<pre class=""><code class="language-html"><!-- 入力始め -->&lt;div class="mint-container mint-container1">
&lt;div class="title">&lt;i class="fas fa-seedling seedling-s">&lt;/i>ファイル読込ボタン&lt;/div>
&lt;div class="mint-box">
  &lt;input type="file" id="<span class="sb-600">fileInput</span>" <span class="or-600">accept=".txt,.js,.json"</span>>
  &lt;pre id="<span class="sb-600">fileContent</span>">&lt;/pre>
&lt;/div><!-- /mint-box -->
<!-- 入力終わり --></code></pre>
<!-- /HTML 終り -->

<!-- JavaScript 始め -->
<div class="tag js js-alt tag-top-others mt-0_3"></div>
<pre><code class="language-javascript"><!-- 入力始め -->document.getElementById('fileInput').addEventListener('change', function(event) {
  const file = event.target.files&lbrack;0];
  if (file) {
    const reader = <span class="red-600">new FileReader()</span>;
    reader.onload = function(e) {
      let fileContentText = e.target.result;

      // タブ文字を半角スペース2つに置換
      fileContentText = fileContentText<span class="red-600">.replace(/\t/g, '  ')</span>;
      // 半角スペース4つ(一般的なエディタのデフォルトインデント)を半角スペース2つに置換 
      fileContentText = fileContentText<span class="red-600">.replace(/ {4}/g, '  ')</span>;
      // 全角スペース（　）を半角スペース（ ）に置換
      // fileContentText = fileContentText<span class="red-600">.replace(/　/g, ' ')</span>;
      
      document.getElementById('fileContent').textContent = fileContentText;
      console.log('ファイルが読み込まれました:', file.name);
    };
    reader<span class="red-600">.readAsText</span>(file); // テキストファイルとして読み込む
  }
});<!-- 入力終わり --></code></pre>
<!-- /JavaScript 終り -->

<!-- CSS 始め -->
<div class="tag css tag-top-others mt-0_3"></div>
<pre class="columns-2 gap-2"><code class="language-css"><!-- 入力始め -->#fileContent {
  margin: 0.5em 0 0.7em;
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
  font-size: 0.7rem;
  line-height: 1.7;
  background: #fff;
  white-space: pre-wrap;
}<!-- 入力終わり --></code></pre>
<!-- /CSS 終り --></div><!-- /code-box -->
</div><!-- /code-box-wrap -->
<!-- /コードボックス -->

  </section>
</main>

<div class="pager w-container">
  <div class="left">
    <a href=".html"><i class="fa fa-chevron-circle-left"></i> 前のページ</a>
  </div>
  <div class="right">
    <a href=".html">次のページ <i class="fa fa-chevron-circle-right"></i></a>
  </div>
</div>

<footer class="footer">
  <div class="footer-container w-container">
    <span class="year">
      <span class="corp">&copy;</span> 2020 - <span id="thisyear"></span>
    </span>
    <a href="">
      <span class="en">Big Cat Studio</span>
      <span class="ja">おおねこ工房</span>
    </a>
  </div><!-- /footer-container -->
</footer>

<script src="../../js/gettoday.js"></script>
<script src="../../js/getyear.js"></script>
<script src="../../js/season.js"></script>
<script src="../../js/slide-toggle.js"></script>
<script src="../../js/btn-code.js"></script>
</body>
</html>