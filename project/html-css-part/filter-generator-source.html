<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>filter ジェネレーター ソース/WEB制作ネタ帳</title>
<meta name="robots" content="noindex">
<link rel="icon" href="../../tiger-favicon.png" type="image/png">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Kiwi+Maru&family=Noto+Sans+JP:wght@100..900&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="../../css/style-set.css">
<link rel="stylesheet" href="../../css/style-width-height.css">
<link rel="stylesheet" href="../../css/style-margin.css">
<link rel="stylesheet" href="../../css/style-padding.css">
<link rel="stylesheet" href="../../css/style.css">
<script src="../../js/jquery-3.5.1.min.js"></script>
</head>

<body class="html-css-part filter-generator-source">

<header class="header">
  <div class="header-container w-container">
    <div class="h1-today-container">
      <h1>
        <a href="">
          <span class="ja">WEB制作ノート</span>
          <span class="en">Web Production Notebook</span>
        </a>
      </h1>
      
      <div id="header-today"></div>
    </div><!-- /h1-today-container -->

    <nav class="nav nav-container">
      <ul id="menu1" class="disc"><a>動く UI レシピ</a>
          <li><a href="" target="_blank" rel="noopener noreferrer"></a></li>
          <li><a href="" target="_blank" rel="noopener noreferrer"></a></li>
      </ul>
      <ul id="menu2" class="hyphen"><a>HTML/CSS/JavaScript</a>
          <li><a href="" target="_blank" rel="noopener noreferrer"></a></li>
          <li><a href="" target="_blank" rel="noopener noreferrer"></a></li>
      </ul>
      <ul id="menu3" class="hyphen"><a>WordPress/PHP</a>
          <li><a href="" target="_blank" rel="noopener noreferrer"></a></li>
          <li><a href="" target="_blank" rel="noopener noreferrer"></a></li>
      </ul>
    </nav>
  </div><!-- /header-container -->
</header>

<main class="w-container">
  <section class="content">
    <h2 class="h2">filter ジェネレーター ソース</h2>
  
<div class="mint-box mb-0_5">
  <div class="samp-box">
    <img alt="no image">
    <div class="input-box">
      <div>
        <div>
          <span>グレースケール　<grayscale class="fs-ms fw-600">grayscale(<span id="txt1">0</span>%)</span></span><span>初期値：0%</span>
          <input type="range" id="slider1" min="0" max="100" value="0" />
        </div>
        <div>
          <span>セピア調　<sepia class="fs-ms fw-600">sepia(<span id="txt2">0</span>%)</span></span><span></span>初期値：0%</span>
          <input type="range" id="slider2" min="0" max="100" value="0" />
        </div>
        <div>
          <span>彩度　<saturate class="fs-ms fw-600">saturate(<span id="txt3">100</span>%)</span></span><span></span>初期値：100%</span>
          <input type="range" id="slider3" min="0" max="100" value="100" />
        </div>
        <div>
          <span>色調　<hue-rotate class="fs-ms fw-600">hue-rotate(<span id="txt4">0</span>deg)</span></span><span></span>初期値：0deg</span>
          <input type="range" id="slider4" min="0" max="360" value="0" />
        </div>
        <div>
          <span>階調の反転　<invert class="fs-ms fw-600">invert(<span id="txt5">0</span>%)</span></span><span>初期値：0%</span>
          <input type="range" id="slider5" min="0" max="100" value="0" />
        </div>
        <div>
          <span>透明度　<opacity class="fs-ms fw-600">opacity(<span id="txt6">100</span>%)</span></span><span></span>初期値：100%</span>
          <input type="range" id="slider6" min="0" max="100" value="100" />
        </div>
        <div>
          <span>明度　<brightness class="fs-ms fw-600">brightness(<span id="txt7">100</span>%)</span></span><span>初期値：100%</span>
          <input type="range" id="slider7" min="0" max="100" value="100" />
        </div>
        <div>
          <span>コントラスト　<contrast class="fs-ms fw-600">contrast(<span id="txt8">100</span>%)</span></span><span>初期値：100%</span>
          <input type="range" id="slider8" min="0" max="100" value="100" />
        </div>
        <div>
          <span>ぼかし　<span class="fs-ms fw-600">blur(<span id="txt9">0</span>px)</span></span><span>初期値：0px</span>
          <input type="range" id="slider9" min="0" max="200" value="0" />
        </div>

        <div class="image-file-input">
          <input type="file" id="imageFile" accept="image/*" />
        </div>
      </div>

      <div class="filter-output">
        <span>CSS：</span>
        <code id="filterOutputText">filter: initial;</code>
        <input type="button" value="Copy" id="copy-button"></input>
        <input type="reset" value="Reset" id="reset-button"></input>
      </div>
    </div><!-- /input-box -->
    
  </div><!-- /samp-box -->
</div><!-- /mint-box -->

  </section>

<style>
img {
  margin-bottom: .5rem;
  width: 100%;
}
.input-box {
  padding: .5em .8em;
  background-color: #eee;
}
#txt1, #txt2, #txt3, #txt4, #txt5, #txt6, #txt7, #txt8, #txt9, #txt10, #txt11, #txt12, #txt13 {
  display: inline-block;
  width: 1.66em;
  text-align: right;
}
.input-box > div > div > span {
  display: inline-block;
  margin-left: 0.7em;
}
.input-box > div:first-child,
.input-box > div:nth-child(3) {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 0.3em;
}
.input-box > div:nth-child(2) {
  padding-left: .3em;
}
.input-box > div > div,
.input-box > div > span {
  font-size: var(--fs-s);
}

.input-box > div:first-child > div > span:nth-child(2),
.input-box > div:nth-child(2) > span:nth-child(2) {
  font-size: var(--fs-3s);
  margin-left: .7rem;
}
.input-box > div:nth-child(3) > div > span {
  font-size: var(--fs-ss);
}
.input-box > div:nth-child(3) > div:nth-child(4) > span {
  margin: 1.2em 1em 0 0;
}
input[type="range"] {
  -webkit-appearance: none;
  appearance: none;
  background-color: #ddd;
  height: 2px;
  width: 100%;

  &:focus,
  &:active {
    outline: none;
  }

  &::-webkit-slider-thumb {
    -webkit-appearance: none;
    cursor: pointer;
    border: none;
    width: 12px;
    height: 8px;
    background-color: #aaa;
    border-radius: 5%;
    -webkit-border-radius: 5%;
    box-shadow: 0.7px 0.7px 0 #111;
  }
  &::-moz-range-thumb {
    box-shadow: 0.7px 0.7px 0 #111;
  }
}
/* ファイル選択部 */
.image-file-input {
  text-align: right;
  margin-top: 1rem;

  input[type="file"] {
    font-size: var(--fs-ss);
  }
  input[type="file"]::-webkit-file-upload-button {
    margin-top: 0;
    color: #444;
    background: #fff;
  }
}
/* フィルター出力表示部 */
.filter-output {
  display: flex;
  margin-top: 0.6em;

  #filterOutputText {
    background: #fff;
    font-size: var(--fs-ms);
    padding: 0 0.7em;
  }
  input[type="button"],
  input[type="reset"] {
    cursor: pointer;
    border: solid 1px #aaa;
    border-radius: 2px;
    font-size: var(--fs-s);
    padding: 0 0.5em;
    margin-top: 0;
    color: #444;
    background: #fff;
  }
}
</style>

<div class="flex-direction-column gap-0_5">
<!-- コードボックス -->
<div class="code-box-wrap">
<div class="code-box btn-code-box top-narrow matrix">
<button type="button" class="darkBtn">dark</button>
<!-- HTML 始め -->
<div class="tag tag-top html"></div>
<pre><code class="language-html"><!-- 入力始め -->&lt;div class="mint-box">
  &lt;div class="samp-box">
  
    &lt;img id="filterImage" src="../../images/project-part-1/get_ready_512.jpg" alt="" />
    
    &lt;div class="input-box">
      &lt;div>
        &lt;div>
          &lt;span>グレースケール　&lt;grayscale class="fs-ms fw-600">grayscale(&lt;span id="txt1">0&lt;/span>%)&lt;/span>&lt;/span>&lt;span>初期値：0%&lt;/span>
          &lt;input type="range" id="slider1" min="0" max="100" value="0" />
        &lt;/div>
        &lt;div>
          &lt;span>セピア調　&lt;sepia class="fs-ms fw-600">sepia(&lt;span id="txt2">0&lt;/span>%)&lt;/span>&lt;/span>&lt;span>&lt;/span>初期値：0%&lt;/span>
          &lt;input type="range" id="slider2" min="0" max="100" value="0" />
        &lt;/div>
        &lt;div>
          &lt;span>彩度　&lt;saturate class="fs-ms fw-600">saturate(&lt;span id="txt3">100&lt;/span>%)&lt;/span>&lt;/span>&lt;span>&lt;/span>初期値：100%&lt;/span>
          &lt;input type="range" id="slider3" min="0" max="100" value="100" />
        &lt;/div>
        &lt;div>
          &lt;span>色調　&lt;hue-rotate class="fs-ms fw-600">hue-rotate(&lt;span id="txt4">0&lt;/span>deg)&lt;/span>&lt;/span>&lt;span>&lt;/span>初期値：0deg&lt;/span>
          &lt;input type="range" id="slider4" min="0" max="360" value="0" />
        &lt;/div>
        &lt;div>
          &lt;span>階調の反転　&lt;invert class="fs-ms fw-600">invert(&lt;span id="txt5">0&lt;/span>%)&lt;/span>&lt;/span>&lt;span>初期値：0%&lt;/span>
          &lt;input type="range" id="slider5" min="0" max="100" value="0" />
        &lt;/div>
        &lt;div>
          &lt;span>透明度　&lt;opacity class="fs-ms fw-600">opacity(&lt;span id="txt6">100&lt;/span>%)&lt;/span>&lt;/span>&lt;span>&lt;/span>初期値：100%&lt;/span>
          &lt;input type="range" id="slider6" min="0" max="100" value="100" />
        &lt;/div>
        &lt;div>
          &lt;span>明度　&lt;brightness class="fs-ms fw-600">brightness(&lt;span id="txt7">100&lt;/span>%)&lt;/span>&lt;/span>&lt;span>初期値：100%&lt;/span>
          &lt;input type="range" id="slider7" min="0" max="100" value="100" />
        &lt;/div>
        &lt;div>
          &lt;span>コントラスト　&lt;contrast class="fs-ms fw-600">contrast(&lt;span id="txt8">100&lt;/span>%)&lt;/span>&lt;/span>&lt;span>初期値：100%&lt;/span>
          &lt;input type="range" id="slider8" min="0" max="100" value="100" />
        &lt;/div>
        &lt;div>
          &lt;span>ぼかし　&lt;span class="fs-ms fw-600">blur(&lt;span id="txt9">0&lt;/span>px)&lt;/span>&lt;/span>&lt;span>初期値：0px&lt;/span>
          &lt;input type="range" id="slider9" min="0" max="200" value="0" />
        &lt;/div>

        &lt;div class="image-file-input">
          &lt;input type="file" id="imageFile" accept="image/*" />
        &lt;/div>
      &lt;/div>

      &lt;div class="filter-output">
        &lt;span>CSS：&lt;/span>
        &lt;code id="filterOutputText">filter: initial;&lt;/code>
        &lt;input type="button" value="Copy" id="copy-button">&lt;/input>
        &lt;input type="reset" value="Reset" id="reset-button">&lt;/input>
      &lt;/div>
    &lt;/div>&lt;!-- /input-box -->
    
  &lt;/div>&lt;!-- /samp-box -->
&lt;/div>&lt;!-- /mint-box --><!-- 入力終わり --></code></pre>
<!-- /HTML 終り -->

<hr class="hr-0_5 m-1 mt-0_7 mb-0_5">

<!-- JavaScript 始め -->
<div class="tag js js-alt tag-top-others"></div>
<pre><code class="language-javascript"><!-- 入力始め -->document.addEventListener('DOMContentLoaded', function() {
  // --- 1. DOM要素の取得 ---
  const filterImage = document.getElementById('filterImage');
  const imageFile = document.getElementById('imageFile');
  const filterOutputText = document.getElementById('filterOutputText');
  const copyButton = document.getElementById('copy-button');
  const resetButton = document.getElementById('reset-button');

  const <span class="sb-600">sliders</span> = &lbrack;];
  const <span class="sb-600">txts</span> = &lbrack;];

  for (let i = 1; i &lt;= 9; i++) {
    const slider = document.getElementById(`slider${i}`);
    const txt = document.getElementById(`txt${i}`);
    if (slider && txt) {
      <span class="red-600">sliders.push(slider);
      txts.push(txt);</span>
    } else {
      console.warn(`要素 (slider${i} or txt${i}) が見つかりませんでした。`);
    }
  }

  const <span class="sb-600">filterDefinitions</span> = &lbrack;
    { <span class="or">name</span>: 'grayscale', <span class="or">unit</span>: '%', <span class="or">defaultValue</span>: 0 },
    { name: 'sepia', unit: '%', defaultValue: 0 },
    { name: 'saturate', unit: '%', defaultValue: 100 },
    { name: 'hue-rotate', unit: 'deg', defaultValue: 0 },
    { name: 'invert', unit: '%', defaultValue: 0 },
    { name: 'opacity', unit: '%', defaultValue: 100 },
    { name: 'brightness', unit: '%', defaultValue: 100 },
    { name: 'contrast', unit: '%', defaultValue: 100 },
    { name: 'blur', unit: 'px', defaultValue: 0 }
  ];

  // --- 2. フィルター適用ロジック ---
  function applyFilters() {
    let <span class="sb-600">filterString</span> = '';
    sliders.forEach((slider, index) => {
      const <span class="sb-600">definition</span> = filterDefinitions&lbrack;index];
      const <span class="sb-600">value</span> = <span class="green-600">parseInt</span>(slider.value); // 整数化

      if (value !== definition.defaultValue) {
        filterString += `${definition.name}(${value}${definition.unit}) `;
      }
      txts&lbrack;index].textContent = value;
    });

    const finalFilterValue = filterString.<span class="green-600">trim()</span>; <span class="fs-ss">// 文字列の先頭と末尾にある空白（スペース、タブ、改行など）をすべて取り除く</span>
    
    if (filterImage) {
      <span class="red-600">filterImage.style.filter = finalFilterValue === '' ? 'none' : finalFilterValue;</span>
    } else {
      console.error("エラー: filterImage要素が見つかりません。");
    }
    
    <span class="red-600">filterOutputText.textContent = `filter: ${finalFilterValue === '' ? 'none' : finalFilterValue};`;</span>
  }

  // --- 3. スライダーのリセットロジック ---
  function resetSliders() {
    document.getElementById('slider1').value = 0; // grayscale
    document.getElementById('slider2').value = 0; // sepia
    document.getElementById('slider3').value = 100; // saturate
    document.getElementById('slider4').value = 0; // hue-rotate
    document.getElementById('slider5').value = 0; // invert
    document.getElementById('slider6').value = 100; // opacity
    document.getElementById('slider7').value = 100; // brightness
    document.getElementById('slider8').value = 100; // contrast
    document.getElementById('slider9').value = 0; // blur
    
    applyFilters(); 
  }

  // --- 4. ファイル選択ロジック 定型文 ---
  imageFile.addEventListener('<span class="or-600">change</span>', function(event) {
    const file = event.target.files&lbrack;0];

    if (file) {
      const reader = new FileReader();

      // 個別処理部
      reader.onload = function(e) {
        if (filterImage) {
          filterImage.src = e.target.result;
        } else {
          console.error("エラー: filterImage要素が見つかりません。");
        }
        resetSliders(); // 新しい画像が読み込まれたらスライダーとフィルターをリセット
      };

      reader.readAsDataURL(file);
    }
  });

  // --- 5. イベントリスナーの設定 ---
  sliders.forEach(slider => {
    slider.addEventListener('input', applyFilters);
  });

  // --- 6. コピーボタン機能 定型文 ---
  copyButton.addEventListener('click', function() {
    const textToCopy = filterOutputText.textContent;

    navigator.clipboard.writeText(textToCopy)
      .then(() => {
        const originalValue = copyButton.value;
        copyButton.value = 'Copied!';
        setTimeout(() => {
          copyButton.value = originalValue;
        }, 1500); 
      })
      .catch(err => {
        console.error('テキストのコピーに失敗しました:', err);
        alert('コピーに失敗しました。お使いのブラウザでは自動コピーがサポートされていないか、セキュリティ上の制限があります。');
      });
  });

  // --- 7. リセットボタン機能 ---
  resetButton.addEventListener('click', function() {
    resetSliders(); // スライダーをリセットする関数を呼び出す
  });

  // --- 8. 初期設定 ---
  filterImage.src = '../../images/project-part-1/get_ready_512.jpg';
  applyFilters(); 
});<!-- 入力終わり --></code></pre>
<!-- /JavaScript 終り -->

<hr class="hr-0_5 m-1 mt-0_7 mb-0_5">

<!-- CSS 始め -->
<div class="tag css tag-top-others"></div>
<pre class="columns-2"><code class="language-css"><!-- 入力始め -->img {
  margin-bottom: .5rem;
  width: 100%;
}
.input-box {
  padding: .5em .8em;
  background-color: #eee;
}
#txt1, #txt2, #txt3, #txt4, #txt5, #txt6, #txt7, #txt8, #txt9, #txt10, #txt11, #txt12, #txt13 {
  display: inline-block;
  width: 1.66em;
  text-align: right;
}
.input-box > div > div > span {
  display: inline-block;
  margin-left: 0.7em;
}
.input-box > div:first-child,
.input-box > div:nth-child(3) {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 0.3em;
}
.input-box > div:nth-child(2) {
  padding-left: .3em;
}
.input-box > div > div,
.input-box > div > span {
  font-size: var(--fs-s);
}

.input-box > div:first-child > div > span:nth-child(2),
.input-box > div:nth-child(2) > span:nth-child(2) {
  font-size: var(--fs-3s);
  margin-left: .7rem;
}
.input-box > div:nth-child(3) > div > span {
  font-size: var(--fs-ss);
}
.input-box > div:nth-child(3) > div:nth-child(4) > span {
  margin: 1.2em 1em 0 0;
}
input[type="range"] {
  -webkit-appearance: none;
  appearance: none;
  background-color: #ddd;
  height: 2px;
  width: 100%;

  &:focus,
  &:active {
    outline: none;
  }

  &::-webkit-slider-thumb {
    -webkit-appearance: none;
    cursor: pointer;
    border: none;
    width: 12px;
    height: 8px;
    background-color: #aaa;
    border-radius: 5%;
    -webkit-border-radius: 5%;
    box-shadow: 0.7px 0.7px 0 #111;
  }
  &::-moz-range-thumb {
    box-shadow: 0.7px 0.7px 0 #111;
  }
}
/* ファイル選択部 */
.image-file-input {
  text-align: right;
  margin-top: 1rem;

  input[type="file"] {
    font-size: var(--fs-ss);
  }
  input[type="file"]::-webkit-file-upload-button {
    margin-top: 0;
    color: #444;
    background: #fff;
  }
}
/* フィルター出力表示部 */
.filter-output {
  display: flex;
  margin-top: 0.6em;

  #filterOutputText {
    background: #fff;
    font-size: var(--fs-ms);
    padding: 0 0.7em;
  }
  input[type="button"],
  input[type="reset"] {
    cursor: pointer;
    border: solid 1px #aaa;
    border-radius: 2px;
    font-size: var(--fs-s);
    padding: 0 0.5em;
    margin-top: 0;
    color: #444;
    background: #fff;
  }
}<!-- 入力終わり --></code></pre>
<!-- /CSS 終り -->
</div><!-- /code-box -->
</div><!-- /code-box-wrap -->
<!-- /コードボックス -->

</main>

<div class="pager w-container">
  <div class="left">
    <a href=".html"><i class="fa fa-chevron-circle-left"></i> 前のページ</a>
  </div>
  <div class="right">
    <a href=".html">次のページ <i class="fa fa-chevron-circle-right"></i></a>
  </div>
</div>

<footer class="footer">
  <div class="footer-container w-container">
    <span class="year">
      <span class="corp">&copy;</span> 2020 - <span id="thisyear"></span>
    </span>
    <a href="">
      <span class="en">Big Cat Studio</span>
      <span class="ja">おおねこ工房</span>
    </a>
  </div><!-- /footer-container -->
</footer>

<script src="../../js/gettoday.js"></script>
<script src="../../js/getyear.js"></script>
<script src="../../js/season.js"></script>
<script src="../../js/slide-toggle.js"></script>
<script src="../../js/btn-code.js"></script>
</body>
</html>